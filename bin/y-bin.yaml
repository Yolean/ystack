#!/usr/bin/env y-bin-download

# This yaml format has special requirements as it must be parsed on vanilla osx and linux:
# - version must be the first key per binary name
# - comments must be separate lines, not after values


# NOTE yq must be first in the file because this script depends on it
yq:
  version: 4.28.2
  sha256:
    darwin_amd64: 6a7960ba6ff179c69855e24d0752edc8bff0432e2cbc0d2c49ede3ce598c4308
    darwin_arm64: a21ccb54cb05508f9f28f7887256d115bba7d0147505067bd2ec0b639445a150
    linux_amd64: 7e0d59c65be5054a14ff2a76eb12c2d4ec3e5bc2f1dfa03c7356bb35b50bbf41
    linux_arm64: 6cd03bf2b94a07ce149a9f388bbded1f85b4a0d4e0418ef2fc7e0f4285178a36
  templates:
    download: https://github.com/mikefarah/yq/releases/download/v${version}/yq_${os}_${arch}
    # Must be parsed based on: https://github.com/mikefarah/yq/releases/download/v${version}/checksums_hashes_order
    # sha256: https://github.com/mikefarah/yq/releases/download/v${version}/checksums

jq:
  version: 1.6
  template:
    # current release has no darwin-arm64 builds, let's rely on rosetta 2 (which we need for docker anyway)
    #download: https://github.com/stedolan/jq/releases/download/jq-${version}/jq-${osx}-${arch}
    download: https://github.com/stedolan/jq/releases/download/jq-${version}/jq-${osx}-amd64
  sha256:
    darwin_arm64: 5c0a0a3ea600f302ee458b30317425dd9632d1ad8882259fcaf4e9b868b2b1ef
    darwin_amd64: 5c0a0a3ea600f302ee458b30317425dd9632d1ad8882259fcaf4e9b868b2b1ef
    linux_amd64: 0019dfc4b32d63c1392aa264aed2253c1e0c2fb09216f8e2cc269bbfb8bb49b5
    linux_arm64: For_jq_arm64_linux_use_a_package_manager

kubectl:
  version: 1.25.5
  template:
    download: https://dl.k8s.io/v${version}/kubernetes-client-${os}-${arch}.tar.gz
  sha256:
    darwin_amd64: 384bd658b101ca8f44012454557954cb17cb60fddd71416de0818a476286cd22
    darwin_arm64: 23a17e765f702de8906ff697b89cd9c900dcdd13047f2630c93eddee2da4e384
    linux_amd64: 83df88f210c929992edab1800b5745d9086a8422af0fc277442592d8cd3630cc
    linux_arm64: 8259a1278205245b535c11e9db88d425dd6d99d3703bf59fdd7a70163cc4fe16
  archive:
    tool: tar
    path: kubernetes/client/bin/kubectl

kustomize:
  # TODO with tag from version in ./y-kubectl
  # https://github.com/kubernetes/kubernetes/blob/v1.24.0-beta.0/staging/src/k8s.io/kubectl/go.mod#L45
  version: 4.5.7
  template:
    download: https://github.com/kubernetes-sigs/kustomize/releases/download/kustomize%2Fv${version}/kustomize_v${version}_${os}_${arch}.tar.gz
    sha256: https://github.com/kubernetes-sigs/kustomize/releases/download/kustomize%2Fv${verison}/checksums.txt
  sha256:
    darwin_amd64: 6fd57e78ed0c06b5bdd82750c5dc6d0f992a7b926d114fe94be46d7a7e32b63a
    darwin_arm64: 3c1e8b95cef4ff6e52d5f4b8c65b8d9d06b75f42d1cb40986c1d67729d82411a
    linux_amd64: 701e3c4bfa14e4c520d481fdf7131f902531bfc002cb5062dcf31263a09c70c9
    linux_arm64: 65665b39297cc73c13918f05bbe8450d17556f0acd16242a339271e14861df67
  archive:
    tool: tar
    path: kustomize

skaffold:
  version: 2.1.0
  template:
    download: https://storage.googleapis.com/skaffold/releases/v${version}/skaffold-${os}-${arch}
    sha256: https://storage.googleapis.com/skaffold/releases/v${version}/skaffold-${os}-${arch}.sha256
  sha256:
    darwin_amd64: 2535ea3e5bed129926b300be104df1d606e1637160d471845660681378fed239
    darwin_arm64: 8990ba618a8bcab3bb7fe8a2b79c0d47ee31d6f3e0ff6885739f3e2c9f6f12d0
    linux_amd64: 62fe1c68bf8b177e43fb900a4166b4f087ac5b68f927a6854d625bf38c8bcc41
    linux_arm64: 31843ba1ea91d8fe62bdbc07e6c67fe57e1d2f847862305b89ffe34905fda2ec

helm:
  version: 3.11.1
  sha256:
    darwin_amd64: 2548a90e5cc957ccc5016b47060665a9d2cd4d5b4d61dcc32f5de3144d103826
    darwin_arm64: 43d0198a7a2ea2639caafa81bb0596c97bee2d4e40df50b36202343eb4d5c46b
    linux_amd64: 0b1be96b66fab4770526f136f5f1a385a47c41923d33aab0dcb500e0f6c1bf7c
    linux_arm64: 919173e8fb7a3b54d76af9feb92e49e86d5a80c5185020bae8c393fa0f0de1e8
  archive:
    tool: tar
    path: ${os}-${arch}/helm
  templates:
    download: https://get.helm.sh/helm-v${version}-${os}-${arch}.tar.gz
    sha256: https://get.helm.sh/helm-v${version}-${os}-${arch}.tar.gz.sha256sum

k3d:
  version: 5.4.7
  templates:
    download: https://github.com/rancher/k3d/releases/download/v${version}/k3d-${os}-${arch}
    sha256: https://github.com/rancher/k3d/releases/download/v${version}/sha256sum.txt
  sha256:
    darwin_amd64: 8a62a54575517335fbada845cafb75a058c90f7b7be83e77da866602507caa71
    darwin_arm64: c9811e94b9691f5be84612183b00e1f228fcb4633f41dd21557bcb0ca205b459
    linux_amd64: c54218d5bf6cb6e74987bf21f7820483f581b00c49fee11dbdb8c17c7829a025
    linux_arm64: c8ceb55ed2ffe2015b915848d0b6eaa72dbc1358270dee4e0c12358c16231d40

kubefwd:
  version: 1.22.0
  templates:
    download: https://github.com/txn2/kubefwd/releases/download/${version}/kubefwd_${Os}_${xarch}.tar.gz
  sha256:
    darwin_amd64: 69e30718737cffd61979d2baf4bea01555299826e49016bc0b82987d7a8708c4
    darwin_arm64: 48ff8e49842a4fb3ee042b4a1f8c8c9fca66f2d68322d702e8c671f0dd20f4ab
    linux_amd64: 7bcd135021a2fbf6d5da7b2aff0a27e8eb2edeb39814daf3ab1cc9dff68388f7
    linux_arm64: 23e3e3cd719a3cb90c8a9639bbff2aff7fb141af958c6680cbe81443fde35b2a
  archive:
    tool: tar
    path: kubefwd

kpt:
  version: 1.0.0-beta.21
  templates:
    download: https://github.com/GoogleContainerTools/kpt/releases/download/v${version}/kpt_${os}_${arch}
    sha256: https://github.com/GoogleContainerTools/kpt/releases/download/v${version}/checksums.txt
  sha256:
    darwin_amd64: 07993c65577cc0a55799ac9464571df8eabdbb19a4a61d1175366c2155972cd6
    darwin_arm64: 23fb56c38e7d06b7056154e555a736dfd981c3dc77477a4ba51c70f63039e242
    linux_amd64: 5fcc2764f700ffceb9f472319e674556431e1a55ee0e668fe908bd22613bd6ce
    linux_arm64: 1850172c93af24e3a215a961736e3d443277a627e89a0cac7075e70924f22b77

buildctl:
  version: 0.11.3
  templates:
    download: https://github.com/moby/buildkit/releases/download/v${version}/buildkit-v${version}.${os}-${arch}.tar.gz
  sha256:
    darwin_amd64: cc87d6ee6d8e2f1b110124e2548b29efebd85b4759cd8b3f9c2e87d1c6a52f57
    darwin_arm64: 1c58bf0a6d0853d57fae79c429b512f0e3a149933e87e76dbe6d16c82eb91f5c
    linux_amd64: f631978dc283670500a602df1ba1a49333af137c0792716c5510d3cbb9cb4ede
    linux_arm64: 3425ebba8ff0748e2a26dc9f45a879a03bde0937c6acbbc8e6659b905d014f07
  archive:
    tool: tar
    #path: $(test 'linux' = $os && echo "bin/buildctl" || echo "buildctl")
    path: bin/buildctl

crane:
  version: 0.13.0
  templates:
    download: https://github.com/google/go-containerregistry/releases/download/v${version}/go-containerregistry_${Os}_${xarch}.tar.gz
    sha256: https://github.com/google/go-containerregistry/releases/download/v${version}/checksums.txt
  sha256:
    darwin_amd64: 3a1b3f99a09c1384fadcdf4d283baf59114836f78bcca3b0c37b9bf65da06fee
    darwin_arm64: 3d609a3f5037eaf61038b900cc483fe196f2fbd2f4475c575d12d5309acdcf17
    linux_amd64: b06641f6cd08c509d5f1b234076269bfbb512f91e7ba4f796adb8c4b1626c9b7
    linux_arm64: b26d322276cf6934a162200a1bde19d9318e4b9656a357527a7465c3bf53f4c2
  archive:
    tool: tar
    path: crane

container-structure-test:
  version: 1.11.0
  templates:
    # arm64 binary not yet available
    download: https://storage.googleapis.com/container-structure-test/v${version}/container-structure-test-${os}-${arch}
    sha256: https://github.com/GoogleContainerTools/container-structure-test/releases/download/v${version}/container-structure-test-${os}-${arch}.sha256
  sha256:
    darwin_amd64: 0a4ac9e221a86cda6bb9fedb2a0dfdce56f918327b8881977ad787ea15d0e82f
    darwin_arm64: 0a4ac9e221a86cda6bb9fedb2a0dfdce56f918327b8881977ad787ea15d0e82f
    linux_amd64: 1524da5fd5a0fc88c4c9257a3de05a45f135df07e6a684380dd5f659b9ce189b
    linux_arm64: b376ff80134d2d609c591b98d65d653a514755b4861185fd93159af7062ec65d

kubie:
  version: 0.16.0
  template:
    download: https://github.com/sbstp/kubie/releases/download/v${version}/kubie-${os}-${arch}
  sha256:
    darwin_amd64: 0528276eb3bdbff5cccaac2cd31f5be7a03173f374610a52d6f39b1f5d2cb17a
    darwin_arm64: 4e886d30d80441b3f4b97a6946901c8ea578b1c336c2c35bf88c26c8d63ce022
    linux_amd64: c089a98f54ebf4a4a015590cad41d884c1e17c0cf6cd9b305d34a0453a516f80
    linux_arm64: f6b30620d0a0d04e0b8638c012484dcd93299bc5a096ebad94cfce767668e014

fzf:
  version: 0.28.0
  template:
    download: https://github.com/junegunn/fzf/releases/download/${version}/fzf-${version}-${os}_${arch}.zip
    sha256: https://github.com/junegunn/fzf/releases/download/${version}/fzf_${version}_checksums.txt
  sha256:
    darwin_amd64: 21f9feddfa773ce092dec02acb033cfd88a71b531c93e046d32f187ee6ccc31a
    darwin_arm64: 78c5b032801c0cbc04b1a667f01a57789fac8e3701a697001efff056e45d981b
    linux_amd64: For_fzf_on_linux_use_a_package_manager
    linux_arm64: For_fzf_on_linux_use_a_package_manager
  archive:
    tool: zip
    path: fzf

oauth2l:
  version: 1.2.2
  template:
    download: https://github.com/solsson/oauth2l/releases/download/v${version}/${os}_${arch}.tgz
    sha256: https://github.com/solsson/oauth2l/releases/download/v${version}/sha256sum.txt
  sha256:
    darwin_amd64: fdd77f8fbcb27cd19d808675db80963279b7bbb9d80267405f5909250a5ea246
    darwin_arm64: 1e134219665af5229b43cd294f95f79d1601048fbde46d666fd23e4e876f82d9
    linux_amd64: 0803872f2afb447fee4767fca6af9aa1eb96506895d4d7713d2fbe780202016c
    linux_arm64: d1f3e456b314ed4a40dc432b84f9d2ea7d30eea0e04a9f975a8069e66c9ff699
  archive:
    tool: tar
    path: ${os}_${arch}/oauth2l

rpk:
  version: 22.3.11
  template:
    download: https://github.com/vectorizedio/redpanda/releases/download/v${version}/rpk-${os}-${arch}.zip
    sha256: https://github.com/redpanda-data/redpanda/releases/download/v${version}/rpk_${version}_checksums.txt
  sha256:
    darwin_amd64: 8e01288677a863a0c80924173600caf83c683b0e67326d0f6502edbf29ee0b34
    darwin_arm64: cfb6434f773c29a3812cfd2cf7414e0804481bce929c31d84805299e314a9638
    linux_amd64: fa8644cadd531d2b6b9903f7741be542f4a799b3527e167768bf558a4ac49969
    linux_arm64: 88d7a5fa34455f9364b64a9a1a94f6ea358b302344c555426551714468c531e5
  archive:
    tool: zip
    path: rpk

promtool:
  version: 2.32.1
  template:
    download: https://github.com/prometheus/prometheus/releases/download/v${version}/prometheus-${version}.${os}-${arch}.tar.gz
    sha256: https://github.com/prometheus/prometheus/releases/download/v${version}/sha256sums.txt
  sha256:
    darwin_amd64: 7fb849fa03cad447a28592d205adb9e5a0ad4d8026118344bff77146563cd7cb
    darwin_arm64: eeeeffc93654204ac3752ec4d5a3a7b73e85d63c5160a5272fbd90593ebbe27c
    linux_amd64: f08e96d73330a9ee7e6922a9f5b72ea188988a083bbfa9932359339fcf504a74
    linux_arm64: 2d185a8ed46161babeaaac8ce00ef1efdeccf3ef4ed234cd181eac6cad1ae4b2
  archive:
    tool: tar
    path: prometheus-${version}.${os}-${arch}/promtool

esbuild:
  version: 0.17.5
  template:
    download: https://registry.npmjs.org/@esbuild/${os}-${xarm}64/-/${os}-${xarm}64-${version}.tgz
  sha256:
    darwin_amd64: 6c14febaa2a84598de7a13ba8409b0d132eca1c5c82b8d6d496f0384a1df3643
    darwin_arm64: 92ee99a9c49c93b78742a4f2f5863e228980e2f2569053018bd0eba2e2a7b23e
    linux_amd64: c9ae89c52c2e476f08aa39911d79ebef26e170730005f91343887f542d2b632a
    linux_arm64: d55954ec89f49dab8948992a0fe4b82ce629df0d23ac9716451a2f662dd3ae0c
  archive:
    tool: tar
    path: package/bin/esbuild

turbo:
  version: 1.7.4
  template:
    download: https://registry.npmjs.org/turbo-${os}-${arm}64/-/turbo-${os}-${arm}64-${version}.tgz
  sha256:
    darwin_amd64: 596b2748543e3583b1c4e1e64850038ac829f411c9838be7f14271ed75319d46
    darwin_arm64: 327650048fb3db73dca2824c8c418cf061848241ccc217138f009c5388c2b557
    linux_amd64: 6f08be8ed8680def9212f08f3cd34dbfd011f27e480357dce08f1c9df0b4f796
    linux_arm64: 8f7994777c75ead611dd0430788074ec86c2298b8a3de1242a450786ba47cf27
  archive:
    tool: tar
    path: turbo-${os}-${arm}64/bin/turbo
# exact copy of turbo except archive path
go-turbo:
  version: 1.7.4
  template:
    download: https://registry.npmjs.org/turbo-${os}-${arm}64/-/turbo-${os}-${arm}64-${version}.tgz
  sha256:
    darwin_amd64: 596b2748543e3583b1c4e1e64850038ac829f411c9838be7f14271ed75319d46
    darwin_arm64: 327650048fb3db73dca2824c8c418cf061848241ccc217138f009c5388c2b557
    linux_amd64: 6f08be8ed8680def9212f08f3cd34dbfd011f27e480357dce08f1c9df0b4f796
    linux_arm64: 8f7994777c75ead611dd0430788074ec86c2298b8a3de1242a450786ba47cf27
  archive:
    tool: tar
    path: turbo-${os}-${arm}64/bin/go-turbo

dagger:
  version: 0.2.32
  template:
    download: https://github.com/dagger/dagger/releases/download/v${version}/dagger_v${version}_${os}_${arch}.tar.gz
  sha256:
    darwin_amd64: 61bc9030c5f0dcefda5c62ff763872aaa90e0ebddf820663eef93bfbe672c808
    darwin_arm64: 236923de552b9585053fe6579911024f9e1e43c030e842cfdd2a60d8eb072dc3
    linux_amd64: b33c8f3d141090724a52b5b5d2ebdafa79ca90b66f0fa42a47987dfa40ce8676
    linux_arm64: ba08cd1e0d95ea9b7626efc9f946ac9d51e111daf7d83635542bd9b49ab91c8a
  archive:
    tool: tar
    path: dagger

cue:
  version: 0.4.3
  template:
    download: https://github.com/cue-lang/cue/releases/download/v${version}/cue_v${version}_${os}_${arch}.tar.gz
  sha256:
    darwin_amd64: 1161254cf38b928b87a7ac1552dc2e12e6c5da298f9ce370d80e5518ddb6513d
    darwin_arm64: 3d84b85a7288f94301a4726dcf95b2d92c8ff796c4d45c4733fbdcc04ceaf21d
    linux_amd64: 5e7ecb614b5926acfc36eb1258800391ab7c6e6e026fa7cacbfe92006bac895c
    linux_arm64: a8c3f4140d18c324cc69f5de4df0566e529e1636cff340095a42475799bf3fed
  archive:
    tool: tar
    path: cue

git-remote-iap:
  version: 0.5.6
  templates:
    download: https://github.com/c9h-to/remote-iap/releases/download/v${version}/remote-iap-${os}-${arch}-v${version}.tar.gz
    sha256: https://github.com/c9h-to/remote-iap/releases/download/v${version}/remote-iap-${os}-${arch}-v${version}.tar.gz.sha256
  sha256:
    darwin_amd64: c40586cf75df85a9c1486d12a15733a3049b6e54a649328f6a01ec14371337b6
    darwin_arm64: cfcee050980e9e925844bca862788fe36ba7d6cc744b66a354db7853c05f4f38
    linux_amd64: a355bfdfae05e250b638acc3cafc9ea23f9d6c2f23fad769df3ca781d0a9a781
    linux_arm64: c759ad88304834dd9cd9e61a40adf51d2648332942dc1aead1c852848f7ac109
  archive:
    tool: tar
    path: remote-iap

mkcert:
  version: 1.4.4
  templates:
    download: https://github.com/FiloSottile/mkcert/releases/download/v${version}/mkcert-v${version}-${os}-${arch}
  sha256:
    darwin_amd64: a32dfab51f1845d51e810db8e47dcf0e6b51ae3422426514bf5a2b8302e97d4e
    darwin_arm64: c8af0df44bce04359794dad8ea28d750437411d632748049d08644ffb66a60c6
    linux_amd64: 6d31c65b03972c6dc4a14ab429f2928300518b26503f58723e532d1b0a3bbb52
    linux_arm64: b98f2cc69fd9147fe4d405d859c57504571adec0d3611c3eefd04107c7ac00d0
