#!/usr/bin/env y-bin-download

# This yaml format has special requirements as it must be parsed on vanilla osx and linux:
# - version must be the first key per binary name
# - comments must be separate lines, not after values


# NOTE yq must be first in the file because this script depends on it
yq:
  version: 4.48.1
  sha256:
    darwin_amd64: c93d5e5880c78e22aec4efc1d719751b60f9adc49b2735a8009916581b8457c2
    darwin_arm64: 05e19db817704d945f28f73763cc2b3c5142ef114a991f57b83bd034c2b86646
    linux_amd64: 99df6047f5b577a9d25f969f7c3823ada3488de2e2115b30a0abb10d9324fd9f
    linux_arm64: 0e46b5b926a9e57c526fa2bd8f8e38b7e17fbf6e2403ff1741f3b268e3363a9e
  templates:
    download: https://github.com/mikefarah/yq/releases/download/v${version}/yq_${os}_${arch}
    # Must be parsed based on: https://github.com/mikefarah/yq/releases/download/v${version}/checksums_hashes_order
    # sha256: https://github.com/mikefarah/yq/releases/download/v${version}/checksums

jq:
  version: 1.7.1
  templates:
    download: https://github.com/stedolan/jq/releases/download/jq-${version}/jq-${osmac}-${arch}
  sha256:
    darwin_amd64: 4155822bbf5ea90f5c79cf254665975eb4274d426d0709770c21774de5407443
    darwin_arm64: 0bbe619e663e0de2c550be2fe0d240d076799d6f8a652b70fa04aea8a8362e8a
    linux_amd64: 5942c9b0934e510ee61eb3e30273f1b3fe2590df93933a93d7c58b81d19c8ff5
    linux_arm64: 4dd2d8a0661df0b22f1bb9a1f9830f06b6f3b8f7d91211a1ef5d7c4f06a8b4a5

kubectl:
  version: 1.34.1
  templates:
    download: https://dl.k8s.io/v${version}/kubernetes-client-${os}-${arch}.tar.gz
  sha256:
    darwin_amd64: dbac3aa6b5c9587ace09b10bd4165dfa62a0e542edf1544f9858893fd4a2318f
    darwin_arm64: 037a30df06f83a72febc1b21d74d95fb5b881f01fc7cb11b4b4362df82888bdf
    linux_amd64: c3848413480b0cdbc2365c786fcf3af5faca81aedb4b76dd583803d887c5bb23
    linux_arm64: ffaefd7bdf8f4369c3269eacfb48b4ff3acde9422c817c1755f17fecbd26bf00
  archive:
    tool: tar
    path: kubernetes/client/bin/kubectl

kustomize:
  # https://github.com/kubernetes/kubernetes/blob/v1.34.1/staging/src/k8s.io/kubectl/go.mod#L43
  version: 5.7.1
  templates:
    download: https://github.com/kubernetes-sigs/kustomize/releases/download/kustomize%2Fv${version}/kustomize_v${version}_${os}_${arch}.tar.gz
    sha256: https://github.com/kubernetes-sigs/kustomize/releases/download/kustomize%2Fv${version}/checksums.txt
  sha256:
    darwin_amd64: 4a0dff80c5644df6bc8f51b342842969004cb6ba5f94dddaabbea7483493273d
    darwin_arm64: 073e9d16d5a235e2ff83e62d6b76edb5d962adbc33be1e4860c4b3f1f39b33b9
    linux_amd64: ea375e7372f9aa029129d4b2d16c66b7750b7f1213c4f66f910d981c895818d8
    linux_arm64: 4261a040217df3bd6896597c3986d1465925726e4f22a945304b5233a4dcdbda
  archive:
    tool: tar
    path: kustomize

skaffold:
  version: 2.17.0
  templates:
    download: https://storage.googleapis.com/skaffold/releases/v${version}/skaffold-${os}-${arch}
    sha256: https://storage.googleapis.com/skaffold/releases/v${version}/skaffold-${os}-${arch}.sha256
  sha256:
    darwin_amd64: 49e924b50c990948aa6e56cd82ef8f8f9f15321d206b34123812f38306dc0bbe
    darwin_arm64: 974f22d80bd2a71203e949b32dd52a037fa9c355fb5d60849f2e9e43ea9953af
    linux_amd64: 12d16e5c18b0232cbe0854d3e8b1581a98e58c1a415b060d4b5da70e43a17708
    linux_arm64: 29ae6293bdf912840be813e2ba2b3081f38961cb5577a2daa62bced5dc775107

helm:
  version: 3.19.0
  templates:
    download: https://get.helm.sh/helm-v${version}-${os}-${arch}.tar.gz
    sha256: https://get.helm.sh/helm-v${version}-${os}-${arch}.tar.gz.sha256sum
  sha256:
    darwin_amd64: 09a108c0abda42e45af172be65c49125354bf7cd178dbe10435e94540e49c7b9
    darwin_arm64: 31513e1193da4eb4ae042eb5f98ef9aca7890cfa136f4707c8d4f70e2115bef6
    linux_amd64: a7f81ce08007091b86d8bd696eb4d86b8d0f2e1b9f6c714be62f82f96a594496
    linux_arm64: 440cf7add0aee27ebc93fada965523c1dc2e0ab340d4348da2215737fc0d76ad
  archive:
    tool: tar
    path: ${os}-${arch}/helm

buildctl:
  version: 0.27.1
  templates:
    download: https://github.com/moby/buildkit/releases/download/v${version}/buildkit-v${version}.${os}-${arch}.tar.gz
  sha256:
    darwin_amd64: 151599cb2e31186aacdc0f0c360799e7f750635800fb705e57a597cdc5670595
    darwin_arm64: 0b25b3fdb32a57c1518285750dd93b6ed1ab600448270497d1b834705ff67dd7
    linux_amd64: 6061f46ecaca327332e848f2282b1e7d5a217c42bf5fe100fdf2645b8a020baa
    linux_arm64: 98264e766619b08a0032a2118b4bbfb8c42de410fc6deb13e1bef158b4836226
  archive:
    tool: tar
    #path: $(test 'linux' = $os && echo "bin/buildctl" || echo "buildctl")
    path: bin/buildctl

crane:
  version: 0.20.7
  templates:
    download: https://github.com/google/go-containerregistry/releases/download/v${version}/go-containerregistry_${Os}_${xarch}.tar.gz
    sha256: https://github.com/google/go-containerregistry/releases/download/v${version}/checksums.txt
  sha256:
    darwin_amd64: 69af8da281cd2cd56245bf178de8719bbcdd2ffdeae46b4c621c02bfc6f75e22
    darwin_arm64: 210da17a7269a9904a9b6797efbf97f4b1e5567c0962f168d1489a7bd375f14a
    linux_amd64: 8ef3564d264e6b5ca93f7b7f5652704c4dd29d33935aff6947dd5adefd05953e
    linux_arm64: b04ee6e4904d9219c76383f5b73521a63f69ecc93c0b1840846eebfd071a6355
  archive:
    tool: tar
    path: crane

esbuild:
  version: 0.25.11
  templates:
    download: https://registry.npmjs.org/@esbuild/${os}-${xarm}64/-/${os}-${xarm}64-${version}.tgz
  sha256:
    darwin_amd64: 6c685589690123a0a2b6424f82cfe21973e81923c0c61246bc48c69911f24dba
    darwin_arm64: 42ea27b04af4aaf177f5a6fa5cb6dda85d21ecd2fa45adb865cc3430eb985e2e
    linux_amd64: e9e893cfe6a327b97b8d749a2d477d7379ef87eb576b88e03e91b7d07ec935e0
    linux_arm64: 5bb8193032b55494841f27aa5bec41e6e1c717d6d90ae5651a4bd9ac01ebc930
  archive:
    tool: tar
    path: package/bin/esbuild

turbo:
  version: 2.8.7
  templates:
    download: https://registry.npmjs.org/turbo-${os}-${arm}64/-/turbo-${os}-${arm}64-${version}.tgz
  sha256:
    darwin_amd64: 4250413f4c7c7a03f39b37639643c2ee5d5f3e03eae92c180dfb0a0441d24853
    darwin_arm64: 8304830e597936822589511284bb4ebd098f427c32dc4eb3e8a33c7fe6b81562
    linux_amd64: 9335a00d3979c52d3ebdc888266e2233b608d0d143990478d4c22f0d464a38f6
    linux_arm64: 44992d7f741e08ba35a52701084f4842d46efe6bc89691e0fe28a3ddf66ac1db
  archive:
    tool: tar
    path: turbo-${os}-${xarm}64/bin/turbo
