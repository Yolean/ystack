#!/usr/bin/env y-bin-download

# This yaml format has special requirements as it must be parsed on vanilla osx and linux:
# - version must be the first key per binary name
# - comments must be separate lines, not after values


# NOTE yq must be first in the file because this script depends on it
yq:
  version: 4.44.3
  sha256:
    darwin_amd64: 216ddfa03e7ba0e5aba00b236ec78324b5bfc49b610db254fe92310878baea20
    darwin_arm64: 559a594ef7a6ebc5b81a67b7717fb3accedd266d8fa7d8352da7fec9e463f48b
    linux_amd64: a2c097180dd884a8d50c956ee16a9cec070f30a7947cf4ebf87d5f36213e9ed7
    linux_arm64: 0e7e1524f68d91b3ff9b089872d185940ab0fa020a5a9052046ef10547023156
  templates:
    download: https://github.com/mikefarah/yq/releases/download/v${version}/yq_${os}_${arch}
    # Must be parsed based on: https://github.com/mikefarah/yq/releases/download/v${version}/checksums_hashes_order
    # sha256: https://github.com/mikefarah/yq/releases/download/v${version}/checksums

jq:
  version: 1.7.1
  templates:
    download: https://github.com/stedolan/jq/releases/download/jq-${version}/jq-${osmac}-${arch}
  sha256:
    darwin_amd64: 4155822bbf5ea90f5c79cf254665975eb4274d426d0709770c21774de5407443
    darwin_arm64: 0bbe619e663e0de2c550be2fe0d240d076799d6f8a652b70fa04aea8a8362e8a
    linux_amd64: 5942c9b0934e510ee61eb3e30273f1b3fe2590df93933a93d7c58b81d19c8ff5
    linux_arm64: 4dd2d8a0661df0b22f1bb9a1f9830f06b6f3b8f7d91211a1ef5d7c4f06a8b4a5

kubectl:
  version: 1.31.0
  templates:
    download: https://dl.k8s.io/v${version}/kubernetes-client-${os}-${arch}.tar.gz
  sha256:
    darwin_amd64: 7811da8f63737a0d8be51b2be5eba1543b29f1a78aec54d675a777b6db94d1a6
    darwin_arm64: b13f19bc172fac50b4d2d9f7fccb651e4d3cf9164c03b1470d28fd4a3abfd631
    linux_amd64: e29ec7c51a2fe2375e27cca933bbbbf2bba08d9c5ff6eccbeb0d53a8195b800f
    linux_arm64: 2790b1ba8e79be9ba38b05058849b56977d44b324ca69393ad0140ddfcf6fbc3
  archive:
    tool: tar
    path: kubernetes/client/bin/kubectl

kustomize:
  # https://github.com/kubernetes/kubernetes/blob/v1.31.0/staging/src/k8s.io/kubectl/go.mod#L43
  version: 5.4.2
  templates:
    download: https://github.com/kubernetes-sigs/kustomize/releases/download/kustomize%2Fv${version}/kustomize_v${version}_${os}_${arch}.tar.gz
    sha256: https://github.com/kubernetes-sigs/kustomize/releases/download/kustomize%2Fv${version}/checksums.txt
  sha256:
    darwin_amd64: d1dadf6d51058cdda6470344c95767e1c283cc5a36d5019eb32f8e43e63bd0df
    darwin_arm64: 9b7da623cb40542f2dd220fa31d906d9254759b4e27583706e4e846fccba9fab
    linux_amd64: 881c6e9007c7ea2b9ecc214d13f4cdd1f837635dcf4db49ce4479898f7d911a3
    linux_arm64: 175af88af8a7d8d7d6b1f26659060950f0764d00b9979b4e11b61b8b212b7c22
  archive:
    tool: tar
    path: kustomize

skaffold:
  version: 2.13.1
  templates:
    download: https://storage.googleapis.com/skaffold/releases/v${version}/skaffold-${os}-${arch}
    sha256: https://storage.googleapis.com/skaffold/releases/v${version}/skaffold-${os}-${arch}.sha256
  sha256:
    darwin_amd64: 09322097633f21256264b8368e89625c164e950829c71b499dad01d9b092f499
    darwin_arm64: 0c52cede6c9b2159ff305313e85649c6521ecd1cf6f68de423c6ca1cfb42dd39
    linux_amd64: a903e1a99d4338747348237220d720c44a0f6f5f965dce17ee05809190239b6f
    linux_arm64: df3ca1d83a4be9b7f4795de4470c8274a8420563d2d0d40fbcafbc92bd1b6c8e

helm:
  version: 3.12.3
  templates:
    download: https://get.helm.sh/helm-v${version}-${os}-${arch}.tar.gz
    sha256: https://get.helm.sh/helm-v${version}-${os}-${arch}.tar.gz.sha256sum
  sha256:
    darwin_amd64: 1bdbbeec5a12dd0c1cd4efd8948a156d33e1e2f51140e2a51e1e5e7b11b81d47
    darwin_arm64: 240b0a7da9cae208000eff3d3fb95e0fa1f4903d95be62c3f276f7630b12dae1
    linux_amd64: 1b2313cd198d45eab00cc37c38f6b1ca0a948ba279c29e322bdf426d406129b5
    linux_arm64: 79ef06935fb47e432c0c91bdefd140e5b543ec46376007ca14a52e5ed3023088
  archive:
    tool: tar
    path: ${os}-${arch}/helm

buildctl:
  version: 0.15.1
  templates:
    download: https://github.com/moby/buildkit/releases/download/v${version}/buildkit-v${version}.${os}-${arch}.tar.gz
  sha256:
    darwin_amd64: 84fedb9bff0a635a55eaac06f9c448a029d4418b3b1fd48570582bc2c8dceff5
    darwin_arm64: 84f551a8c9eda6e17d487740b819b62e40755a39d910e85d73f4a70dec9345bb
    linux_amd64: e433c3d3484ad5c13a74435a28ba96334369c9ecce13b4ed0e310ad5f90f7060
    linux_arm64: 608539ed0686f6533504ab43ed1005ab9c7bb45daec1cc5caa99de0c6314408c
  archive:
    tool: tar
    #path: $(test 'linux' = $os && echo "bin/buildctl" || echo "buildctl")
    path: bin/buildctl

crane:
  version: 0.19.1
  templates:
    download: https://github.com/google/go-containerregistry/releases/download/v${version}/go-containerregistry_${Os}_${xarch}.tar.gz
    sha256: https://github.com/google/go-containerregistry/releases/download/v${version}/checksums.txt
  sha256:
    darwin_amd64: f163d9ee3bd856ce851dec82305bb608826bd6fbb47e92ee4d4749436850ad69
    darwin_arm64: 19b95d9e5354131a2e5a8cfeefdf915123a2ee2b8e2f9c9070c8fa8c062f8c1d
    linux_amd64: 5f2b43c32a901adaaabaa78755d56cea71183954de7547cb4c4bc64b9ac6b2ff
    linux_arm64: 9118c29cdf2197441c4a934cf517df76c021ba12a70edc14ee9dc4dc08226680
  archive:
    tool: tar
    path: crane

esbuild:
  version: 0.21.5
  templates:
    download: https://registry.npmjs.org/@esbuild/${os}-${xarm}64/-/${os}-${xarm}64-${version}.tgz
  sha256:
    darwin_amd64: adaf34486bdca8560c42aa172ee2a4307b6988689938d696a8f24fe4d93703e4
    darwin_arm64: 4145466ca315b652cb2548bfe9ee705a888fb95d39107a664ef82a7afb2db5ca
    linux_amd64: d3c7e7e0991f28e987c8a8f1163ffebf326dfff80228afc7f12669a120591fe4
    linux_arm64: 228f2bee5d3d75bc247a60543448a3c1f224b03c2e38b0270c7ef57668ee05ff
  archive:
    tool: tar
    path: package/bin/esbuild

turbo:
  version: 2.1.1
  templates:
    download: https://registry.npmjs.org/turbo-${os}-${arm}64/-/turbo-${os}-${arm}64-${version}.tgz
  sha256:
    darwin_amd64: e8c5df42a8b59003b794c5256b89400190107a0efc229cc54d59f7dc86bf5647
    darwin_arm64: 8c37a8ad1a852d626b176d294d4ac43a943f8356ec37f0ab2526cbb5f366388b
    linux_amd64: 0bf5b7d863b2aa7793da59c3d913315b20a70c10ffd817dc2282b1b1015c9538
    linux_arm64: 9c121d961c2895b6b97eb9adec16ec362d133fe056c4d9cecaee81955e9b9de1
  archive:
    tool: tar
    path: turbo-${os}-${arm}64/bin/turbo
